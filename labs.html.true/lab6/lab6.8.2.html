
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>lab6.8.2</title>
    </head>
    <body>
        <input type="text" id="data" placeholder = "формат '2014-12-31'">
        <p id="str"></p>
        <script type="text/javascript">
            let data = document.getElementById('data');
            let str = document.getElementById('str');
            
            data.addEventListener('blur', function ()
            {
            let arr = this.value.split('-');
            let now = new Date(arr[0], arr[1] - 1, arr[2]);
            let time = new Date();
            now.setFullYear(time.getFullYear());
            
            if(now - time < 0)
            {
            now.setFullYear(now.getFullYear() + 1);
            }
            
            str.innerHTML = Math.floor((now - time) / (1000 * 60 * 60 * 24));
            })
            </script>
    </body>
</html>